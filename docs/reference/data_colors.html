<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute colors for multi-dimensional data. — data_colors • chameleon</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compute colors for multi-dimensional data. — data_colors" />
<meta property="og:description" content="Given a matrix of observation/element rows and variable/measurement columns, compute a color for
each row (or group of rows) such that the colors are distinct, and where more-similar colors
roughly designate more-similar data rows (or groups of rows)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">chameleon</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/examples.html">Coloring multidimensional data</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute colors for multi-dimensional data.</h1>
    
    <div class="hidden name"><code>data_colors.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given a matrix of observation/element rows and variable/measurement columns, compute a color for
each row (or group of rows) such that the colors are distinct, and where more-similar colors
roughly designate more-similar data rows (or groups of rows).</p>
    </div>

    <pre class="usage"><span class='fu'>data_colors</span><span class='op'>(</span>
  <span class='va'>data</span>,
  run_umap <span class='op'>=</span> <span class='cn'>TRUE</span>,
  groups <span class='op'>=</span> <span class='cn'>NULL</span>,
  minimal_saturation <span class='op'>=</span> <span class='fl'>33</span>,
  minimal_lightness <span class='op'>=</span> <span class='fl'>20</span>,
  maximal_lightness <span class='op'>=</span> <span class='fl'>80</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A matrix whose rows represent elements/observations and columns represent
variables/measurements.</p></td>
    </tr>
    <tr>
      <th>run_umap</th>
      <td><p>A boolean specifying whether to run UMAP on the data to convert it to 3D (by default,
<code>TRUE</code>). If <code>FALSE</code>, the data matrix must have exactly 3 columns and
will be used as-is.</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>An optional array with an entry per row containing the identifier of the group the
row belongs to.</p></td>
    </tr>
    <tr>
      <th>minimal_saturation</th>
      <td><p>Exclude colors whose saturation (<code>hypot(a, b)</code> in CIELAB color
space) is less than this value (by default, 33).</p></td>
    </tr>
    <tr>
      <th>minimal_lightness</th>
      <td><p>Exclude colors whose lightnes (<code>l</code> in CIELAB color space) is less
than this value (by default, 20).</p></td>
    </tr>
    <tr>
      <th>maximal_lightness</th>
      <td><p>Exclude colors whose lightnes (<code>l</code> in CIELAB color space) is more
than this value (by default, 80).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An array with one entry per row, whose names are the matrix <code>rownames</code>, containing the
        color of each row. If <code>groups</code> was specified, the array will contain one entry per
        unique group identifier, whose names are the <code>as.character</code> group identifiers,
        containing the color of each group.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is intended to provide a "reasonable" set of colors to "arbitrary" data, for use as a
convenient default when investigating unknown data sets. It is not meant to replace hand-picked
colors tailored for specific data (e.g. using red colors for "bad" rows and green colors for
"good" rows).</p>
<p>This ensures all colors are distinct by packing the (visible part) of the CIELAB color space
with the needed number of spheres. To assign the colors to the data, it uses UMAP to reduce the
data to 3D. It then uses principal component analysis to represent both the chosen colors (3D
sphere centers) and the (3D UMAP) data as point clouds with coordinates in the range 0-1, and
finally uses a stable matching algorithm to map these point clouds to each other, thereby
assigning a color to each data row. If the data is grouped, then the center of gravity of each
group is used to generate a color for each group.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>chameleon</span><span class='fu'>::</span><span class='fu'>data_colors</span><span class='op'>(</span><span class='va'>stackloss</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] "#4D966F" "#3B9B3D" "#818F3F" "#AF7E42" "#E55573" "#8B262B" "#D86544"
#&gt;  [8] "#EF5205" "#967ACB" "#4A8CCA" "#EF3F9F" "#F517CC" "#721BA5" "#C5699E"
#&gt; [15] "#C95CCC" "#8F71F9" "#3241A5" "#C84DFA" "#2387F9" "#752D7B" "#FE3847"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Oren Ben-Kiki.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


